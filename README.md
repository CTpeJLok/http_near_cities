# Инструкция для запуска проекта на чистом Ubuntu

**!!! Docker образы могут не загружаться в России, поэтому используйте средства обхода или сервер в другой стране.**

**!!! Все команды выполнять в корне проекта**

### Зависимости

1. Для запуска проекта нужен docker и docker-compose [Инструкция](Docker.md)
2. Упрощенное управление проектом реализовано через Makefile, поэтому нужна утилита для использования этих команд. На Ubuntu необходимо установить модуль make

```bash
sudo apt install make
```

### Переменные окружения

В проекте уже есть заполненные тестовые файлы. Для применения выполните команды (bash). Больше ничего менять не нужно

```bash
cp env.db .env.db
cp app/env app/.env
```

Структура файлов

1. .env.db

```
POSTGRES_DB=
POSTGRES_USER=
POSTGRES_PASSWORD=
POSTGRES_HOST=near_cities_db
PGPORT=5432

REDIS_HOST=redis
REDIS_PORT=6379
```

2. app/.env

```
API_KEY=390e8223d35d4c1bbc900ba3d0e27084
```

### Запуск и сборка проекта

Выполните код в терминале:

```bash
make up-build
```

Если вы хотите сразу видеть логи, для запуска используйте данную команду:

```bash
make run-build
```

В дальнейшем можно сразу запускать проект, не тратя время и ресурсы на сборку:

```bash
make up
make run
```

### Выключение проекта

```bash
make down
```

### Дополнительные команды

Перезапуск и перезапуск со сборкой:

```bash
make restart
make restart-build
```

Просматривать логи:

```bash
make logs
```
